{"code":"import * as tslib_1 from \"tslib\";\r\nimport * as React from 'react';\r\nimport { compile } from './marksy-components';\r\nimport { Article } from '../../../lib/uikit-react';\r\nimport { Section } from '../../../lib/uikit-react';\r\nvar Documentation = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Documentation, _super);\r\n    function Documentation(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        var _a = _this.props.match.params, name = _a.name, version = _a.version;\r\n        _this.state = {\r\n            name: name,\r\n            version: version,\r\n            parsedMarkdown: null,\r\n            isLoading: true\r\n        };\r\n        return _this;\r\n    }\r\n    Documentation.prototype.componentWillReceiveProps = function (nextProps) {\r\n        var _this = this;\r\n        var _a = nextProps.match.params, name = _a.name, version = _a.version;\r\n        if (this.state.name !== name) {\r\n            this.setState({\r\n                name: name\r\n            }, function () { return _this.fetchDocs(); });\r\n        }\r\n        if (this.state.version !== version) {\r\n            this.setState({\r\n                version: version\r\n            }, function () { return _this.fetchDocs(); });\r\n        }\r\n    };\r\n    Documentation.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        var _a = nextProps.match.params, name = _a.name, version = _a.version;\r\n        if (this.state.name !== name) {\r\n            return true;\r\n        }\r\n        if (this.state.version !== version) {\r\n            return true;\r\n        }\r\n        if (this.state.isLoading !== nextState.isLoading) {\r\n            return true;\r\n        }\r\n    };\r\n    Documentation.prototype.componentDidMount = function () {\r\n        this.fetchDocs();\r\n    };\r\n    Documentation.prototype.render = function () {\r\n        return (React.createElement(Section, { padding: true },\r\n            React.createElement(Article, { title: this.state.name.charAt(0).toUpperCase() + this.state.name.substr(1) }, this.state.parsedMarkdown ? this.state.parsedMarkdown.tree : null)));\r\n    };\r\n    Documentation.prototype.fetchDocs = function () {\r\n        var _this = this;\r\n        this.setState({ isLoading: true });\r\n        console.log(this.state.name);\r\n        fetch(\"/client/docs/\" + this.state.version + \"/\" + this.state.name + \".md\")\r\n            .then(function (res) { return res.text(); })\r\n            .then(function (text) {\r\n            _this.setState({\r\n                parsedMarkdown: compile(text),\r\n                isLoading: false\r\n            });\r\n        })\r\n            .catch(function (err) {\r\n            console.error(err);\r\n        });\r\n    };\r\n    return Documentation;\r\n}(React.Component));\r\nexport { Documentation };\r\n//# sourceMappingURL=Documentation.js.map","map":"{\"version\":3,\"file\":\"Documentation.js\",\"sourceRoot\":\"\",\"sources\":[\"Documentation.tsx\"],\"names\":[],\"mappings\":\"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\"}"}
